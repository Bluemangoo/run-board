(function(){"use strict";var t={5242:function(t,e,n){var o=n(3686),r=n(9527);const a={class:"table-container"},l={dir:"auto"},s=(0,r.Lk)("div",{class:"notes"},[(0,r.Lk)("p",null,"当前版本 v1.3.5"),(0,r.Lk)("p",null,[(0,r.eW)("点个star吧 "),(0,r.Lk)("a",{href:"https://github.com/Bluemangoo/run-board"},[(0,r.Lk)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,r.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 0C7.16 0 0 7.16 0 16C0 23.08 4.58 29.06 10.94 31.18C11.74 31.32 12.04 30.84 12.04 30.42C12.04 30.04 12.02 28.78 12.02 27.44C8 28.18 6.96 26.46 6.64 25.56C6.46 25.1 5.68 23.68 5 23.3C4.44 23 3.64 22.26 4.98 22.24C6.24 22.22 7.14 23.4 7.44 23.88C8.88 26.3 11.18 25.62 12.1 25.2C12.24 24.16 12.66 23.46 13.12 23.06C9.56 22.66 5.84 21.28 5.84 15.16C5.84 13.42 6.46 11.98 7.48 10.86C7.32 10.46 6.76 8.82 7.64 6.62C7.64 6.62 8.98 6.2 12.04 8.26C13.32 7.9 14.68 7.72 16.04 7.72C17.4 7.72 18.76 7.9 20.04 8.26C23.1 6.18 24.44 6.62 24.44 6.62C25.32 8.82 24.76 10.46 24.6 10.86C25.62 11.98 26.24 13.4 26.24 15.16C26.24 21.3 22.5 22.66 18.94 23.06C19.52 23.56 20.02 24.52 20.02 26.02C20.02 28.16 20 29.88 20 30.42C20 30.84 20.3 31.34 21.1 31.18C27.42 29.06 32 23.06 32 16C32 7.16 24.84 0 16 0V0Z",fill:"white"})]),(0,r.eW)(" Github ")])]),(0,r.Lk)("p",null,"有问题请在Github提Issue"),(0,r.Lk)("p",null,"所有人的数据请在 F12 - 控制台(console) 查看")],-1);function i(t,e,n,o,i,u){const h=(0,r.g2)("PageHead"),c=(0,r.g2)("TableHead"),d=(0,r.g2)("TableRow");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(h),(0,r.Lk)("div",a,[(0,r.Lk)("table",l,[(0,r.bF)(c,{name:"姓名",today:"今日新增",whole:"本月累计"}),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(10,(t=>(0,r.bF)(d,{key:t,name:i.names[t-1],today:i.todays[t-1],whole:i.wholes[t-1]},null,8,["name","today","whole"]))),64))])]),s],64)}var u=n(354);function h(t,e,n,o,a,l){return(0,r.uX)(),(0,r.CE)("tr",{class:(0,u.C4)(a.color)},[(0,r.Lk)("td",null,(0,u.v_)(n.name),1),(0,r.Lk)("td",null,(0,u.v_)(n.today),1),(0,r.Lk)("td",null,(0,u.v_)(n.whole),1)],2)}var c={name:"TableRow",props:{name:String,today:Number,whole:Number},data(){return{color:"common"}},watch:{whole:{handler(){this.whole>=200?this.color="rainbow":this.whole>=100?this.color="gold":this.whole>=40?this.color="red":this.whole>=30?this.color="purple":this.whole>=20?this.color="blue":this.color="common"},deep:!0}}},d=n(1423);const f=(0,d.A)(c,[["render",h],["__scopeId","data-v-7075b6c2"]]);var p=f;function g(t,e,n,o,a,l){return(0,r.uX)(),(0,r.CE)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,(0,u.v_)(n.name),1),(0,r.Lk)("td",null,(0,u.v_)(n.today),1),(0,r.Lk)("td",null,(0,u.v_)(n.whole),1)])])}var m={name:"TableRow",props:{name:String,today:String,whole:String}};const v=(0,d.A)(m,[["render",g],["__scopeId","data-v-ecf74506"]]);var w=v;const b=t=>((0,r.Qi)("data-v-4b0f2279"),t=t(),(0,r.jt)(),t),y=b((()=>(0,r.Lk)("p",null,"乐跑卷狗榜",-1))),C=[y];function k(t,e,n,o,a,l){return(0,r.uX)(),(0,r.CE)("div",null,C)}var L={name:"PageHead"};const _=(0,d.A)(L,[["render",k],["__scopeId","data-v-4b0f2279"]]);var O=_,S=n(6272),j={name:"App",components:{TableRow:p,TableHead:w,PageHead:O},data(){let t=[],e=[],n=[];const o=<%=data.idList%>;let r=[];const a=function(){const t=new Date;let e=t.getMonth()+1;e<10&&(e="0"+e);let n=t.getDate();return n<10&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n}();let l=[0,0];return{names:t,todays:e,wholes:n,idList:o,tmpList:r,day:a,tasks:l,polling:null}},async created(){function t(t){let e=0;for(let n=0;n<t.length;n++){let o=parseFloat(t[n]["tolastdistence"])/1e3;1===t[n]["youxiao"]&&(e+=o)}return e}for(let e=0;e<10;e++)this.names[e]="Loading";this.names[0]=`Get ${this.tasks[0]}/${this.tasks[1]}`;{const e=async t=>{const{data:e}=await S.A.get(t);return e};let n=this.tasks,o=this.names;const r=()=>{n[1]++,o[0]=`Get ${n[0]}/${n[1]}`},a=()=>{n[0]++,o[0]=`Get ${n[0]}/${n[1]}`},l=this.day,s=this.idList;let i=[],u=[],h=[],c=[],d=[];for(let t=0;t<s.length;t++)i[t]=[null,0,0],r(),c[c.length]=e("https://jinhuaschool.smart-run.cn/report/student/month?student_no="+s[t]).then((function(e){let n=JSON.parse(e)["data"];for(let o=0;o<n.length;o++){let e=n[o]["date"];e!==l?(u[u.length]=[t,s[t],e],r()):(h[h.length]=[t],r())}a()}));for(let t=0;t<s.length;t++)r(),d[d.length]=e("https://jinhuaschool.smart-run.cn/report/student/index?student_no="+this.idList[t]).then((function(e){let n=JSON.parse(e);i[t][0]=n["data"]["student"]["name"],a()}));await Promise.all(c);for(let p=0;p<h.length;p++)d[d.length]=e("https://jinhuaschool.smart-run.cn/report/student/record?student_no="+s[h[p]]+"&day="+l).then((function(e){i[h[p]][1]+=t(JSON.parse(e)["data"]),a()}));for(let p=0;p<u.length;p++)d[d.length]=e("https://jinhuaschool.smart-run.cn/report/student/record?student_no="+u[p][1]+"&day="+u[p][2]).then((function(e){i[u[p][0]][2]+=t(JSON.parse(e)["data"]),a()}));await Promise.all(d),this.tmpList=JSON.parse(JSON.stringify(i)),i.sort(((t,e)=>t[1]<e[1]||t[1]===e[1]&&t[2]<e[2]?1:t[1]>e[1]||t[1]===e[1]&&t[2]>e[2]?-1:0));for(let t=0;t<i.length&&t<10;t++)this.names[t]=i[t][0],this.todays[t]=i[t][1],this.wholes[t]=i[t][2]+i[t][1];let f=[];for(let t=0;t<i.length;t++)f[t]=[i[t][0],i[t][1],i[t][2]+i[t][1]];console.log(f)}this.timer?clearInterval(this.timer):this.timer=setInterval((()=>{setTimeout(this.pollData,0)}),6e4)},methods:{async pollData(){function t(t){let e=0;for(let n=0;n<t.length;n++){let o=parseFloat(t[n]["tolastdistence"])/1e3;1===t[n]["youxiao"]&&(e+=o)}return e}const e=async t=>{const{data:e}=await S.A.get(t);return e},n=this.idList,o=this.day;let r=JSON.parse(JSON.stringify(this.tmpList)),a=[];for(let l=0;l<this.idList.length;l++)r[l][1]=0,a[a.length]=e("https://jinhuaschool.smart-run.cn/report/student/record?student_no="+n[l]+"&day="+o).then((function(e){r[l][1]+=t(JSON.parse(e)["data"])}));await Promise.all(a),r.sort(((t,e)=>t[1]<e[1]||t[1]===e[1]&&t[2]<e[2]?1:t[1]>e[1]||t[1]===e[1]&&t[2]>e[2]?-1:0));for(let l=0;l<r.length;l++)this.names[l]=r[l][0],this.todays[l]=r[l][1],this.wholes[l]=r[l][2]+r[l][1]}}};const N=(0,d.A)(j,[["render",i]]);var T=N;(0,o.Ef)(T).mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,a){if(!o){var l=1/0;for(h=0;h<t.length;h++){o=t[h][0],r=t[h][1],a=t[h][2];for(var s=!0,i=0;i<o.length;i++)(!1&a||l>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(s=!1,a<l&&(l=a));if(s){t.splice(h--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[o,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,a,l=o[0],s=o[1],i=o[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(i)var h=i(n)}for(e&&e(o);u<l.length;u++)a=l[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(h)},o=self["webpackChunkrun_board"]=self["webpackChunkrun_board"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(5242)}));o=n.O(o)})();