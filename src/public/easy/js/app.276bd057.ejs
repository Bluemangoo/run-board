(function(){"use strict";var t={190:function(t,e,n){var o=n(9197),a=n(8473);const l={class:"table-container"},s={dir:"auto"},r=(0,a._)("div",{class:"notes"},[(0,a._)("p",null,"当前版本 v1.3.5"),(0,a._)("p",null,[(0,a.Uk)("点个star吧 "),(0,a._)("a",{href:"https://github.com/Bluemangoo/run-board"},[(0,a._)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 0C7.16 0 0 7.16 0 16C0 23.08 4.58 29.06 10.94 31.18C11.74 31.32 12.04 30.84 12.04 30.42C12.04 30.04 12.02 28.78 12.02 27.44C8 28.18 6.96 26.46 6.64 25.56C6.46 25.1 5.68 23.68 5 23.3C4.44 23 3.64 22.26 4.98 22.24C6.24 22.22 7.14 23.4 7.44 23.88C8.88 26.3 11.18 25.62 12.1 25.2C12.24 24.16 12.66 23.46 13.12 23.06C9.56 22.66 5.84 21.28 5.84 15.16C5.84 13.42 6.46 11.98 7.48 10.86C7.32 10.46 6.76 8.82 7.64 6.62C7.64 6.62 8.98 6.2 12.04 8.26C13.32 7.9 14.68 7.72 16.04 7.72C17.4 7.72 18.76 7.9 20.04 8.26C23.1 6.18 24.44 6.62 24.44 6.62C25.32 8.82 24.76 10.46 24.6 10.86C25.62 11.98 26.24 13.4 26.24 15.16C26.24 21.3 22.5 22.66 18.94 23.06C19.52 23.56 20.02 24.52 20.02 26.02C20.02 28.16 20 29.88 20 30.42C20 30.84 20.3 31.34 21.1 31.18C27.42 29.06 32 23.06 32 16C32 7.16 24.84 0 16 0V0Z",fill:"white"})]),(0,a.Uk)(" Github ")])]),(0,a._)("p",null,"有问题请在Github提Issue"),(0,a._)("p",null,"所有人的数据请在 F12 - 控制台(console) 查看")],-1);function i(t,e,n,o,i,h){const d=(0,a.up)("PageHead"),u=(0,a.up)("TableHead"),c=(0,a.up)("TableRow");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a._)("div",l,[(0,a._)("table",s,[(0,a.Wm)(u,{name:"姓名",today:"今日新增",whole:"本月累计"}),(0,a.Wm)(c,{name:i.names[0],today:i.todays[0],whole:i.wholes[0]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[1],today:i.todays[1],whole:i.wholes[1]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[2],today:i.todays[2],whole:i.wholes[2]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[3],today:i.todays[3],whole:i.wholes[3]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[4],today:i.todays[4],whole:i.wholes[4]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[5],today:i.todays[5],whole:i.wholes[5]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[6],today:i.todays[6],whole:i.wholes[6]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[7],today:i.todays[7],whole:i.wholes[7]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[8],today:i.todays[8],whole:i.wholes[8]},null,8,["name","today","whole"]),(0,a.Wm)(c,{name:i.names[9],today:i.todays[9],whole:i.wholes[9]},null,8,["name","today","whole"])])]),r],64)}var h=n(4887);function d(t,e,n,o,l,s){return(0,a.wg)(),(0,a.iD)("tr",{class:(0,h.C_)(l.color)},[(0,a._)("td",null,(0,h.zw)(n.name),1),(0,a._)("td",null,(0,h.zw)(n.today),1),(0,a._)("td",null,(0,h.zw)(n.whole),1)],2)}var u={name:"TableRow",props:{name:String,today:Number,whole:Number},data(){return{color:"common"}},watch:{whole:{handler(){this.whole>=200?this.color="rainbow":this.whole>=100?this.color="gold":this.whole>=40?this.color="red":this.whole>=30?this.color="purple":this.whole>=20?this.color="blue":this.color="common"},deep:!0}}},c=n(5312);const m=(0,c.Z)(u,[["render",d],["__scopeId","data-v-7075b6c2"]]);var w=m;function p(t,e,n,o,l,s){return(0,a.wg)(),(0,a.iD)("thead",null,[(0,a._)("tr",null,[(0,a._)("td",null,(0,h.zw)(n.name),1),(0,a._)("td",null,(0,h.zw)(n.today),1),(0,a._)("td",null,(0,h.zw)(n.whole),1)])])}var f={name:"TableRow",props:{name:String,today:String,whole:String}};const y=(0,c.Z)(f,[["render",p],["__scopeId","data-v-ecf74506"]]);var g=y;const v=t=>((0,a.dD)("data-v-4b0f2279"),t=t(),(0,a.Cn)(),t),b=v((()=>(0,a._)("p",null,"乐跑卷狗榜",-1))),_=[b];function C(t,e,n,o,l,s){return(0,a.wg)(),(0,a.iD)("div",null,_)}var O={name:"PageHead"};const S=(0,c.Z)(O,[["render",C],["__scopeId","data-v-4b0f2279"]]);var W=S,j=n(5633),k={name:"App",components:{TableRow:w,TableHead:g,PageHead:W},data(){let t=[],e=[],n=[];const o=<%=data.idList%>;let a=[];const l=function(){const t=new Date;let e=t.getMonth()+1;e<10&&(e="0"+e);let n=t.getDate();return n<10&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n}();let s=[0,0];return{names:t,todays:e,wholes:n,idList:o,tmpList:a,day:l,tasks:s,polling:null}},async created(){for(let t=0;t<10;t++)this.names[t]="Loading";this.names[0]=`Get ${this.tasks[0]}/${this.tasks[1]}`;{const t=async t=>{const{data:e}=await j.Z.get(t);return e};let e=this.tasks,n=this.names;const o=()=>{e[1]++,n[0]=`Get ${e[0]}/${e[1]}`},a=()=>{e[0]++,n[0]=`Get ${e[0]}/${e[1]}`},l=this.day,s=this.idList;let r=[],i=[],h=[],d=[],u=[];for(let m=0;m<s.length;m++)r[m]=[null,0,0],o(),d[d.length]=t("https://jinhuaschool.smart-run.cn/report/student/month?student_no="+s[m]).then((function(t){let e=JSON.parse(t)["data"];for(let n=0;n<e.length;n++){let t=e[n]["date"];t!==l?(i[i.length]=[m,s[m],t],o()):(h[h.length]=[m],o())}a()}));for(let m=0;m<s.length;m++)o(),u[u.length]=t("https://jinhuaschool.smart-run.cn/report/student/index?student_no="+this.idList[m]).then((function(t){let e=JSON.parse(t);r[m][0]=e["data"]["student"]["name"],a()}));await Promise.all(d);for(let m=0;m<h.length;m++)u[u.length]=t("https://jinhuaschool.smart-run.cn/report/student/record?student_no="+s[h[m]]+"&day="+l).then((function(t){let e=JSON.parse(t)["data"];for(let n=0;n<e.length;n++){let t=parseFloat(e[n]["tolastdistence"]);t>=1&&parseFloat(e[n]["totalspeed"])<9&&(r[h[m]][1]+=t)}a()}));for(let m=0;m<i.length;m++)u[u.length]=t("https://jinhuaschool.smart-run.cn/report/student/record?student_no="+i[m][1]+"&day="+i[m][2]).then((function(t){let e=JSON.parse(t)["data"];for(let n=0;n<e.length;n++){let t=parseFloat(e[n]["tolastdistence"]);t>=1&&parseFloat(e[n]["totalspeed"])<9&&(r[i[m][0]][2]+=t)}a()}));await Promise.all(u),this.tmpList=JSON.parse(JSON.stringify(r)),r.sort(((t,e)=>t[1]<e[1]||t[1]===e[1]&&t[2]<e[2]?1:t[1]>e[1]||t[1]===e[1]&&t[2]>e[2]?-1:0));for(let m=0;m<r.length&&m<10;m++)this.names[m]=r[m][0],this.todays[m]=r[m][1],this.wholes[m]=r[m][2]+r[m][1];let c=[];for(let m=0;m<r.length;m++)c[m]=[r[m][0],r[m][1],r[m][2]+r[m][1]];console.log(c)}this.timer?clearInterval(this.timer):this.timer=setInterval((()=>{setTimeout(this.pollData,0)}),6e4)},methods:{async pollData(){const t=async t=>{const{data:e}=await j.Z.get(t);return e},e=this.idList,n=this.day;let o=JSON.parse(JSON.stringify(this.tmpList)),a=[];for(let l=0;l<this.idList.length;l++)o[l][1]=0,a[a.length]=t("https://jinhuaschool.smart-run.cn/report/student/record?student_no="+e[l]+"&day="+n).then((function(t){let e=JSON.parse(t)["data"];for(let n=0;n<e.length;n++){let t=parseFloat(e[n]["tolastdistence"]);t>=1&&(o[l][1]+=t)}}));await Promise.all(a),o.sort(((t,e)=>t[1]<e[1]||t[1]===e[1]&&t[2]<e[2]?1:t[1]>e[1]||t[1]===e[1]&&t[2]>e[2]?-1:0));for(let l=0;l<o.length;l++)this.names[l]=o[l][0],this.todays[l]=o[l][1],this.wholes[l]=o[l][2]+o[l][1]}}};const N=(0,c.Z)(k,[["render",i]]);var D=N;(0,o.ri)(D).mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var l=e[o]={exports:{}};return t[o].call(l.exports,l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,l){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],a=t[d][1],l=t[d][2];for(var r=!0,i=0;i<o.length;i++)(!1&l||s>=l)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(r=!1,l<s&&(s=l));if(r){t.splice(d--,1);var h=a();void 0!==h&&(e=h)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[o,a,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,l,s=o[0],r=o[1],i=o[2],h=0;if(s.some((function(e){return 0!==t[e]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(i)var d=i(n)}for(e&&e(o);h<s.length;h++)l=s[h],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(d)},o=self["webpackChunkrun_board"]=self["webpackChunkrun_board"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(190)}));o=n.O(o)})();